<!doctype html>
<html lang="vi">
<!-- Chuyển đổi từ PPTX: lec11a-while_loops.pptx
     Theo định dạng tham chiếu: lecture-11-recursion.html -->

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Bài 11a: Vòng lặp while (While Loops)</title>

  <link rel="stylesheet" href="revealjs/dist/reset.css" />
  <link rel="stylesheet" href="revealjs/dist/reveal.css" />
  <link rel="stylesheet" href="revealjs/dist/theme/white.css" />
  <link rel="stylesheet" href="plugin/highlight/monokai.css" />
  <link rel="stylesheet" href="lecture-style.css" />
</head>

<body>
  <div class="reveal">
    <div class="slides">

      <!-- ====================== Slide: Trang tiêu đề ====================== -->
      <section>
        <section>
          <h2 class="r-fit-text">Tư duy Tính toán</h2>
          <h2>Bài 11a: Vòng lặp <span class="inline-code">while</span></h2>
          <p>Trường ĐH Công nghệ – Đại học Quốc gia Hà Nội</p>
        </section>

        <!-- ====================== Slide: Nội dung ====================== -->
        <section>
          <h2>Nội dung</h2>
          <ol>
            <li>Ôn nhanh: vòng lặp <span class="inline-code">for</span> &amp; <span class="keyword">đệ
                quy</span></li>
            <li>Hôm nay: vòng lặp <span class="inline-code">while</span> (lặp <span class="keyword">không
                giới hạn</span>)</li>
            <li>“Bốn câu hỏi” để thiết kế vòng lặp</li>
            <li>Lệnh <span class="inline-code">break</span></li>
          </ol>
          <p><strong>Tài liệu đọc:</strong> <em>Think Python</em> (2nd ed.), 7.3 – 7.5</p>
        </section>
      </section>

      <!-- ====================== Chương 1: Vòng lặp while ====================== -->
      <section>
        <!-- ====================== Slide: Chương 1 ====================== -->
        <section>
          <h1>
            <span class="text-light">1.</span><br />
            Vòng lặp <span class="inline-code">while</span><br />
            <span class="text-light">lặp đến khi điều kiện sai</span>
          </h1>
        </section>

        <!-- ====================== Slide: Guessing Game ====================== -->
        <section>
          <h2>Trò chơi đoán số</h2>
          <h4>vì sao cần <span class="inline-code">while</span>?</h4>
          <pre><code class="language-pycon" data-trim>
> python game.py
What number am I thinking of?
          </code></pre>
          <ul>
            <li>Ban đầu: luôn trả lời <span class="inline-code">'wrong'</span>.</li>
            <li>Với <span class="inline-code">if</span>: biết đúng/sai, nhưng chỉ <span class="keyword">một</span> lượt
              đoán.</li>
            <li>Với <span class="inline-code">for</span>: cho <span class="keyword">hữu hạn</span> lượt đoán
              (vd: 5).</li>
            <li>Mục tiêu: cho đoán <span class="keyword">không giới hạn</span> đến khi đúng &rarr; dùng
              <span class="inline-code">while</span>.
            </li>
          </ul>
        </section>

        <!-- ====================== Slide: Review - A Single Guess ====================== -->
        <section data-auto-animate>
          <h2>Ôn lại: một lượt đoán</h2>
          <pre><code class="language-python" data-trim data-line-numbers="">
# game.py
the_num = random.randint(1, 100)

def play():
   try:
      guess = input('What number am I thinking of? ')
      num = int(guess)
      if num != the_num:
         print('That is not correct.')
      else: #num == the_num
         print('Correct!')
   except ValueError:
      print('Sorry, you did not enter a number.')
          </code></pre>
          <ul>
            <li>Chỉ kiểm tra <span class="keyword">một lần</span>, rồi kết thúc.</li>
            <li>Có xử lý lỗi nhập liệu với <span class="inline-code">ValueError</span>.</li>
          </ul>
        </section>

        <!-- ====================== Slide: For-Loop - Bounded Guesses ====================== -->
        <section data-auto-animate style="font-size: 0.7em;">
          <h2>Vòng <span class="inline-code">for</span></h2>
          <h4>số lượt đoán có giới hạn</h4>
          <pre><code class="language-python" data-trim data-line-numbers="">
# game.py
def play():
   still_playing = True
   for i in range(5): # 5 guesses
      if still_playing:
         try:
            guess = input('What number am I thinking of?')
            num = int(guess)
            if num != the_num:
               print('That is not correct.')
            else: #num == the_num
               print('Correct!')
               still_playing = False
         except ValueError:
            print('Sorry, you did not enter a number.')
          </code></pre>
          <ul>
            <li>Dùng <span class="keyword">biến cờ</span> <span class="inline-code">still_playing</span> để
              quyết định còn chơi hay không.</li>
            <li><strong>Khởi tạo cờ</strong> (Q1: bắt đầu đúng) &amp; <strong>đổi cờ</strong> khi đoán đúng.
            </li>
          </ul>
        </section>

        <!-- ====================== Slide: While-Loop - Unbounded Guesses ====================== -->
        <section data-auto-animate style="font-size: 0.7em;">
          <h2>Vòng <span class="inline-code">while</span></h2>
          <h4>số lượt đoán không giới hạn</h4>
          <pre><code class="language-python" data-trim data-line-numbers="">
# game.py
def play():
   still_playing = True
   while still_playing:
      try:
         guess = input('What number am I thinking of?')
         num = int(guess)
         if num != the_num:
            print('That is not correct.')
         else: #num == the_num
            print('Correct!')
            still_playing = False
      except ValueError:
         print('Sorry, you did not enter a number.')
          </code></pre>
          <ul>
            <li>Cờ <span class="inline-code">still_playing</span> cho biết có tiếp tục lặp hay không (<span
                class="keyword">điều kiện lặp</span>).</li>
            <li>Đổi cờ khi đạt mục tiêu &rarr; vòng lặp dừng <span class="keyword">đúng lúc</span>.</li>
          </ul>
        </section>

        <!-- ====================== Slide: While-Loops (Syntax & Execution) ====================== -->
        <section data-auto-animate>
          <h2>Cú pháp vòng lặp <span class="inline-code">while</span></h2>

          <table style="width: 100%; font-size: 0.85em;">
            <tr>
              <td style="width: 50%; vertical-align: top;">
                <p><strong>Cú pháp</strong></p>
                <pre><code class="language-python" data-trim data-line-numbers="">
while &lt;điều_kiện_lặp&gt;:
   &lt;các_câu_lệnh&gt;
                </code></pre>
              </td>
              <td style="width: 50%; vertical-align: top;">
                <p><strong>Ví dụ</strong></p>
                <pre><code class="language-python" data-trim data-line-numbers="">
while still_playing:
   &lt;statements&gt;
                </code></pre>
              </td>
            </tr>
          </table>

          <ul>
            <li>Kiểm tra <span class="inline-code">&lt;expr&gt;</span> là <span class="inline-code">True</span> hay
              <span class="inline-code">False</span>.
            </li>
            <li>Nếu <span class="inline-code">False</span> &rarr; dừng vòng lặp, chuyển sang lệnh <span
                class="keyword">không thụt lề</span> tiếp theo.</li>
            <li>Nếu <span class="inline-code">True</span> &rarr; chạy <span class="keyword">thân vòng
                lặp</span> rồi quay lại kiểm tra.</li>
          </ul>
        </section>

        <!-- ====================== Slide: Terminology ====================== -->
        <section data-auto-animate>
          <h2>Thuật ngữ cơ bản</h2>

          <pre><code class="language-python" data-trim data-line-numbers="">
while &lt;điều_kiện_lặp&gt;:
   &lt;các_câu_lệnh&gt;
          </code></pre>

          <ul>
            <li><span class="keyword">Điều kiện lặp</span> (loop condition / guard): <span
                class="inline-code">&lt;điều_kiện_lặp&gt;</span></li>
            <li><span class="keyword">Thân vòng lặp</span> (loop body): <span
                class="inline-code">&lt;các_câu_lệnh&gt;</span></li>
            <li>Mục tiêu thiết kế: điều kiện lặp phải <span class="keyword">tiến dần</span> về <span
                class="inline-code">False</span> (trừ khi cố ý lặp vô hạn).</li>
          </ul>
        </section>

        <!-- ====================== Slide: Execution Flowchart ====================== -->
        <section>
          <h2>Luồng thực thi (flow)</h2>
          <ul>
            <li>Bước 1: kiểm tra <span class="inline-code">điều_kiện_lặp</span>?</li>
            <li>Nếu <span class="inline-code">True</span> &rarr; thực thi <span class="inline-code">body</span> &rarr;
              quay lại bước 1.</li>
            <li>Nếu <span class="inline-code">False</span> &rarr; thoát vòng lặp.</li>
          </ul>

          <table style="width: 100%; font-size: 0.8em;">
            <thead>
              <tr>
                <th style="text-align: left;">Kết quả <span class="inline-code">điều_kiện_lặp</span></th>
                <th style="text-align: left;">Hành động</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="inline-code">True</span></td>
                <td>Chạy <span class="inline-code">body</span> rồi kiểm tra lại</td>
              </tr>
              <tr>
                <td><span class="inline-code">False</span></td>
                <td>Thoát vòng lặp</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ====================== Slide: Infinite Loops ====================== -->
        <section style="font-size: 0.9em;">
          <h2>Vòng lặp <span class="keyword">vô hạn</span></h2>
          <ul>
            <li>Vòng lặp vô hạn là vòng lặp <span class="keyword">không bao giờ</span> dừng.</li>
            <li>Nhấn <span class="inline-code">Ctrl + C</span> để hủy chạy chương trình.</li>
          </ul>

          <pre><code class="language-python" data-trim data-line-numbers="">
# loops.py
def infinite_loop():
   x = 0
   while True:
      print(x)
      x = x + 1
          </code></pre>

          <pre><code class="language-pycon" data-trim>
>>> import loops
>>> loops.infinite_loop()
0
1
2
...
^C
KeyboardInterrupt
          </code></pre>
        </section>

        <!-- ====================== Slide: Question ====================== -->
        <section>
          <h2>Câu hỏi</h2>
          <h4>chương trình sẽ in gì?</h4>

          <pre><code class="language-python" data-trim data-line-numbers="">
a = 8
b = 12
while a != b:
   if a > b:
      a = a - b
   else:
      b = b - a
print(a)
          </code></pre>

          <p><strong>Chọn đáp án:</strong></p>
          <p><strong>A:</strong> Không in gì: vòng lặp vô hạn &nbsp; <strong>B:</strong> 8 &nbsp; <strong>C:</strong> 12
            &nbsp; <strong>D:</strong> 4 &nbsp; <strong>E:</strong> 0</p>
        </section>

        <!-- ====================== Slide: While-Loop Design - The Four Questions ====================== -->
        <section style="font-size: 0.9em;">
          <h2>Thiết kế vòng lặp: “4 câu hỏi”</h2>
          <ul>
            <li><strong>Q1. Bắt đầu đúng chưa?</strong> Khởi tạo các biến đúng giá trị.</li>
            <li><strong>Q2. Có giữ đúng quan hệ giữa các biến không?</strong> Mỗi vòng lặp có thể phải cập
              nhật biến để chúng luôn nhất quán.</li>
            <li><strong>Q3. Có tiến bộ không?</strong> Mỗi vòng lặp phải hướng tới việc làm điều kiện lặp
              trở thành <span class="inline-code">False</span>.</li>
            <li><strong>Q4. Dừng đúng chưa?</strong> Khi dừng, mục tiêu phải đã đạt.</li>
          </ul>
          <p class="text-light">* “Quan hệ” giữa các biến còn gọi là <span class="keyword">loop
              invariant</span>.</p>
        </section>

        <!-- ====================== Slide: Loop Design - Guessing Game ====================== -->
        <section style="font-size: 0.7em;">
          <h2>Áp dụng “4 câu hỏi”</h2>
          <h4>trò chơi đoán số</h4>
          <pre><code class="language-python" data-trim data-line-numbers="">
# game.py
def play():
   still_playing = True
   while still_playing:
      try:
         guess = input('What number am I thinking of?')
         num = int(guess)
         if num != the_num:
            print('That is not correct.')
         else: #num == the_num
            print('Correct!')
            still_playing = False
      except ValueError:
         print('Sorry, you did not enter a number.')
          </code></pre>
          <ul>
            <li><span class="keyword">Q1</span>: Bắt đầu đúng &rarr; <span class="inline-code">still_playing
                = True</span>.</li>
            <li><span class="keyword">Q2</span>: Cập nhật quan hệ &rarr; đổi <span
                class="inline-code">still_playing</span> dựa trên <span class="inline-code">num</span>
              và <span class="inline-code">the_num</span>.</li>
            <li><span class="keyword">Q3</span>: Có tiến bộ &rarr; mỗi lượt cho người chơi cơ hội thắng.
            </li>
            <li><span class="keyword">Q4</span>: Dừng đúng &rarr; khi dừng thì <span class="inline-code">num
                == the_num</span>.</li>
          </ul>
        </section>
      </section>

      <!-- ====================== Chương 2: Ví dụ vòng lặp while ====================== -->
      <section>
        <!-- ====================== Slide: Chương 2 ====================== -->
        <section>
          <h1>
            <span class="text-light">2.</span><br />
            Ví dụ vòng lặp <span class="inline-code">while</span><br />
            <span class="text-light">mô phỏng • tài chính • Syracuse</span>
          </h1>
        </section>

        <!-- ====================== Slide: Ex. 1 - Simulation of Dice Rolling ====================== -->
        <section style="font-size: 0.7em;">
          <h2>Ví dụ 1</h2>
          <h4> mô phỏng tung xúc xắc</h4>
          <pre><code class="language-python" data-trim data-line-numbers="">
# loops.py
def snake_eyes():
   """Roll a pair of dice until they both come up 1s."""
   snake_eyes = False
   num_tries = 0
   while not snake_eyes:
      r1 = roll()
      r2 = roll()
      print('Rolled: ' + str(r1) + ' and ' + str(r2))
      num_tries = num_tries + 1
      if r1 == 1 and r2 == 1:
         snake_eyes = True
   print('Snake eyes!')
   print('It took ' + str(num_tries) + ' tries.')
          </code></pre>
          <ul>
            <li>Khởi tạo <span class="keyword">biến tích lũy</span> <span class="inline-code">num_tries</span> (Q1).
            </li>
            <li>Dùng <span class="keyword">biến cờ</span> <span class="inline-code">snake_eyes</span> để
              điều khiển dừng (Q2).</li>
            <li>Có thể đọc <span class="inline-code">while not</span> như “<span class="keyword">cho tới
                khi</span>”.</li>
            <li>Báo cáo giá trị tích lũy khi đạt điều kiện (Q4).</li>
          </ul>
        </section>

        <!-- ====================== Slide: Ex. 2 - Financial Calculation ====================== -->
        <section style="font-size: 0.8em;">
          <h2>Ví dụ 2</h2>
          <h4>tăng trưởng khoản đầu tư</h4>
          <pre><code class="language-python" data-trim data-line-numbers="">
# loops.py
def print_growth(period, amount):
   """Print one line of table."""
   # ...
def double_investment(initial, rate_pct):
   """Print table of investment growth until doubled."""
   amount = initial
   period = 0
   print_growth(period, amount)
   while amount < 2*initial:
      amount = (1 + rate_pct/100) * amount
      period = period + 1
      print_growth(period, amount)
          </code></pre>
          <ul>
            <li>Không dùng biến cờ: kiểm tra trực tiếp <span class="keyword">điều kiện dừng</span> <span
                class="inline-code">amount &lt; 2*initial</span>.</li>
            <li>Duy trì <span class="keyword">hai biến tích lũy</span>: <span class="inline-code">amount</span> và <span
                class="inline-code">period</span>.</li>
          </ul>
        </section>

        <!-- ====================== Slide: Ex. 3 - Syracuse Sequence ====================== -->
        <section style="font-size: 0.7em;">
          <h2>Ví dụ 3</h2>
          <h4>dãy Syracuse (Collatz)</h4>
          <pre><code class="language-python" data-trim data-line-numbers="">
# loops.py
def syr(start):
   """Returns the Syracuse sequence."""
   x = start
   lst = []
   while x != 1:
      lst.append(x)
      if x%2 == 0:
         x = x//2
      else:
         x = 3*x + 1
   lst.append(x)
   return lst
          </code></pre>

          <table style="width: 100%; font-size: 0.75em;">
            <thead>
              <tr>
                <th style="text-align: left;">Định nghĩa</th>
                <th style="text-align: left;">Quy tắc</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="inline-code">f(n) = 1</span></td>
                <td>nếu <span class="inline-code">n</span> là 1</td>
              </tr>
              <tr>
                <td><span class="inline-code">f(n) = n/2</span></td>
                <td>nếu <span class="inline-code">n</span> chẵn</td>
              </tr>
              <tr>
                <td><span class="inline-code">f(n) = 3n+1</span></td>
                <td>nếu <span class="inline-code">n</span> lẻ</td>
              </tr>
            </tbody>
          </table>

          <ul>
            <li><span class="keyword">Tích lũy</span> dãy trong <span class="inline-code">lst</span>.</li>
            <li>Điều kiện dừng: <span class="inline-code">x != 1</span> (thoát khi <span class="inline-code">x ==
                1</span>).</li>
          </ul>
        </section>

        <!-- ====================== Slide: Ex. 3 - Syracuse Sequence (tiếp) ====================== -->
        <section style="font-size: 0.7em;">
          <h2>Dãy Syracuse</h2>
          <h4>kiểm tra thiết kế vòng lặp</h4>
          <pre><code class="language-python" data-trim data-line-numbers="">
# loops.py
def syr(start):
   """Returns the Syracuse sequence."""
   x = start
   lst = []
   while x != 1:
      lst.append(x)
      if x%2 == 0:
         x = x//2
      else:
         x = 3*x + 1
   lst.append(x)
   return lst
          </code></pre>

          <ul>
            <li><span class="keyword">Q1</span>: bắt đầu đúng &rarr; <span class="inline-code">x =
                start</span>, <span class="inline-code">lst = []</span>.</li>
            <li><span class="keyword">Q2</span>: quan hệ đúng &rarr; mỗi vòng lặp thêm <span
                class="inline-code">x</span> vào <span class="inline-code">lst</span>, rồi cập nhật
              <span class="inline-code">x</span>.
            </li>
            <li><span class="keyword">Q3</span>: có tiến bộ &rarr; <span class="inline-code">x</span> thay
              đổi theo quy tắc chẵn/lẻ.</li>
            <li><span class="keyword">Q4</span>: dừng đúng &rarr; khi kết thúc thì <span class="inline-code">lst</span>
              kết thúc bằng <span class="inline-code">1</span>.</li>
          </ul>
        </section>

        <!-- ====================== Slide: Full Circle - Recursion vs. Iteration ====================== -->
        <section style="font-size: 0.9em;">
          <h2>Khép vòng: đệ quy vs. lặp</h2>
          <ul>
            <li><span class="keyword">Đệ quy</span>: mẫu lập trình dùng hàm đệ quy.</li>
            <li><span class="keyword">Lặp</span> (iteration): mẫu lập trình dùng vòng lặp.</li>
            <li>Cả hai đều nhằm thực hiện <span class="keyword">lặp lại</span> một công việc.</li>
            <li>Đệ quy mạnh hơn lặp với <span class="inline-code">for</span>*; và tương đương về sức mạnh
              với <span class="inline-code">while</span>**.</li>
            <li>Gợi mở: <span class="inline-code">while</span> và <span class="inline-code">for</span> khác
              nhau thế nào về “sức mạnh”?</li>
          </ul>
          <p class="text-light" style="font-size: 0.7em; margin-top: 0.6em;">
            * Đệ quy có thể biểu diễn lặp không bị chặn trước số lần, còn <span class="inline-code">for</span> thường
            dựa vào dãy hữu hạn.<br />
            ** <span class="inline-code">while</span> có thể mô phỏng các mẫu lặp tổng quát.
          </p>
        </section>
      </section>

      <!-- ====================== Chương 3: Lệnh break ====================== -->
      <section>
        <!-- ====================== Slide: Chương 3 ====================== -->
        <section>
          <h1>
            <span class="text-light">3.</span><br />
            Lệnh <span class="inline-code">break</span><br />
            <span class="text-light">dừng vòng lặp sớm</span>
          </h1>
        </section>

        <!-- ====================== Slide: The Break Statement ====================== -->
        <section style="font-size: 0.8em;">
          <h2>Lệnh <span class="inline-code">break</span> trong vòng lặp</h2>

          <ul>
            <li>Trong thân vòng lặp, <span class="inline-code">break</span> làm dừng <span class="keyword">ngay lập
                tức</span> vòng lặp hiện tại.</li>
            <li>Cẩn thận: <span class="inline-code">break</span> dễ bị lạm dụng &rarr; chỉ dùng khi giúp mã
              <span class="keyword">rõ ràng hơn</span>.
            </li>
            <li><span class="text-light">Lưu ý:</span> nếu có vòng lặp lồng nhau, chỉ <span class="keyword">vòng lặp
                trong cùng</span> (innermost) bị dừng.</li>
          </ul>

          <table style="width: 100%; font-size: 0.7em;">
            <thead>
              <tr>
                <th style="text-align: left;">Dùng biến cờ</th>
                <th style="text-align: left;">Dùng <span class="inline-code">break</span></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="vertical-align: top;">
                  <pre><code class="language-python" data-trim data-line-numbers="">
# loops.py
# get input from user and print
still_going = True
while still_going:
   x = input('? ')
   if x == 'quit':
      still_going = False
   else:
      print(x)
                  </code></pre>
                </td>
                <td style="vertical-align: top;">
                  <pre><code class="language-python" data-trim data-line-numbers="">
# same behavior
while True:
   x = input('? ')
   if x == 'quit':
      break
   print(x)
                  </code></pre>
                </td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ====================== Slide: For-loops Translate to While-loops ====================== -->
        <section style="font-size: 0.9em;">
          <h2><span class="inline-code">for</span> có thể chuyển thành <span class="inline-code">while</span>
          </h2>

          <table style="width: 100%; font-size: 0.65em;">
            <thead>
              <tr>
                <th style="text-align: left;">Vòng lặp <span class="inline-code">for</span></th>
                <th style="text-align: left;">Tương đương bằng <span class="inline-code">while</span> ✅
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="vertical-align: top;">
                  <pre><code class="language-python" data-trim data-line-numbers="">
for x in iterable:
    &lt;body&gt;
                  </code></pre>
                </td>
                <td style="vertical-align: top;">
                  <pre><code class="language-python" data-trim data-line-numbers="">
iterator = iter(iterable)
while True:
    try:
        x = next(iterator)
    except StopIteration:
        break
    &lt;body&gt;
                  </code></pre>
                </td>
              </tr>
            </tbody>
          </table>

          <ul>
            <li>Mọi tính toán làm được với <span class="inline-code">for</span> đều làm được với <span
                class="inline-code">while</span> ✅</li>
            <li>Vì vậy, <span class="inline-code">while</span> <span class="keyword">mạnh hơn</span> (tổng
              quát hơn) <span class="inline-code">for</span>.</li>
            <li>Dù vậy, <span class="inline-code">for</span> vẫn rất hữu ích vì <span class="keyword">ngắn
                gọn</span> và dễ đọc.</li>
          </ul>
        </section>
      </section>

      <!-- ====================== Footer ====================== -->
      <div class="footer">
        Tư duy Tính toán (HK 1 2025–2026) §11a: Vòng lặp while
      </div>

    </div>
  </div>

  <script src="revealjs/dist/reveal.js"></script>
  <script src="plugin/notes/notes.js"></script>
  <script src="plugin/markdown/markdown.js"></script>
  <script src="plugin/highlight/highlight.js"></script>
  <script src="plugin/math/math.js"></script>
  <script>
    Reveal.initialize({
      controlsLayout: "edges",
      slideNumber: true,
      hashOneBasedIndex: true,
      hash: true,
      plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX],
    });
  </script>

  <!-- Nguồn tham chiếu (ẩn trong HTML) -->
  <!-- :contentReference[oaicite:0]{index=0} -->
  <!-- :contentReference[oaicite:1]{index=1} -->
</body>

</html>